[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Async mode
asyncio_mode = auto

# Markers
markers =
    unit: Unit tests (fast, no external dependencies)
    integration: Integration tests (may require services)
    slow: Slow tests (run separately)
    api: API endpoint tests (require running server)

# Coverage
addopts = --cov=. --cov-report=term-missing --cov-report=html:coverage_html -v

# Exclude patterns
norecursedirs = 
    .git
    __pycache__
    .pytest_cache
    alembic
    venv
    .venv

# Logging
log_cli = true
log_cli_level = INFO

# Timeout for individual tests
timeout = 30

# Filters
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
